<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Playing with JS</title>
<style>
   canvas {
     border: 10px inset blue;
   }
</style>
<script>
   function test_canvas() {
     //var start = document.getElementById('graph_input_start').value;
     var start = 0;
   var end=300;
     var pi_index=0;
     var pi_required = document.getElementById('graph_input_end').value;
     if ((pi_required<1||(pi_required>6))) {
    alert( 'Input Error!' );
  } else {
       var canvas = document.getElementById("drawingCanvas");
       var context = canvas.getContext("2d");
       context.clearRect(0, 0, canvas.width, canvas.height);
       context.clearRect(0, 0, 300, 300);
       var current_value = 0;
                context.beginPath(); 
                //линиии нулевой координаты
                context.lineWidth = 1;
                context.strokeStyle = "#000000";
                context.moveTo(0,80);
                context.lineTo(end,80);
                context.stroke();
                context.strokeStyle = "#000000";
                context.moveTo(0,180);
                context.lineTo(end,180);
                context.stroke();
         context.lineWidth = 2;
         context.strokeStyle = "rgb(16,155,252)";
       current_pixel = start; 
       context.moveTo(start,80);
          context.beginPath(); 
      context.fillStyle = "#00F";
      context.strokeStyle = "#F38181";
       while ((current_pixel<=300)&&(pi_required!=pi_index)) {
           start+=0.1;
          current_pixel++;
          current_value=80-Math.sin(start)*15;
          context.lineTo(current_pixel,current_value);
          context.stroke();
          if(current_value>94.98){
            pi_index++;
            context.fillText(pi_index+"Pi", current_pixel+5, 55);
      var current_pixel2=current_pixel;
      while (current_value>80){
          start+=0.1;
        current_pixel++;
        current_value=80-Math.sin(start)*15;
        context.lineTo(current_pixel,current_value);
        context.stroke();
      }
    }
          if(current_value<65.019){
             pi_index++;
            context.fillText(pi_index+"Pi", current_pixel+5, 105);
            var current_pixel2=current_pixel;
      while (current_value<80){
          start+=0.1;
        current_pixel++;
        current_value=80-Math.sin(start)*15;
        context.lineTo(current_pixel,current_value);
        context.stroke();
      }
    }
       }
      start=0;
      current_pixel = start;
      context.moveTo(start,180);
          context.beginPath(); 
      context.font = 'italic 8pt Arial';
      pi_index=-0.5;
      while ((current_pixel<=300)&&(pi_required!=pi_index-0.5)) {
           start+=0.1;
          current_pixel++;
          current_value=180-Math.cos(start)*15;
          context.lineTo(current_pixel,current_value);
          context.stroke();
          if(current_value<165.019){
            pi_index++;
            context.fillText(pi_index+"Pi", current_pixel-30, 160);
    }
          if(current_value>194.98){
             pi_index++;
            context.fillText(pi_index+"Pi", current_pixel-30, 205);
    }
      }
       //context.font = 'italic 10pt Arial';
       context.fillText("y=sin(x)", 10, 30);
       context.fillStyle = "#F38181";
       context.fillText("y=cos(x)", 10, 130);
  }    
}    
    
</script>
   
</head>
<body>
   <canvas id="drawingCanvas" width="500" height="300"></canvas>
  <form action="javascript:void(null);" id="form_id" onsubmit="test_canvas()">
  <p>
    Пожалуйста, введите целочисленное значение желаемого Pi. Pi>0 но Pi<=6: 
    <input id="graph_input_end" max="250" min="1" maxlength="1" size="1" required value="3" pattern="[0-9]{1}">
  </p>
    <input value="Build graph" type="submit">
    </form>
  <p>
    Важно заметить, что у синуса и косинуса отставание по фазе достигает Pi/2
    /<button name="graph_button" onclick="test_canvas()">Build graph</button>
  </p>
</body>
</html>